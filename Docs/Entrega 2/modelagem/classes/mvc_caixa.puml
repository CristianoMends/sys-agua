@startuml Caixa_MVC
skin rose
title Diagrama MVC - Caixa

package view {
    class TelaCaixa {
        + registrarTransacaoForm(): void
        + exibirMensagem(mensagem: String): void
        + atualizarSaldo(saldo: double): void
    }
}

package controller {
    class CaixaController {
        + registrarEntrada(valor: double, descricao: String): void
        + registrarSaida(valor: double, descricao: String): void
        + obterSaldo(): double
        + listarTransacoes(): List<Transacao>
    }
}

package repository {
    class TransacaoRepository {
        + salvar(transacao: Transacao): void
        + buscarTodas(): List<Transacao>
    }
}

package model {
    class Caixa {
        - saldo: double
        - transacoes: List<Transacao>
        --
        + adicionarTransacao(transacao: Transacao): void
        + calcularSaldo(): double
        + getTransacoes(): List<Transacao>
    }

    class Transacao {
        - valor: double
        - status: StatusTransacao
        - tipo: TipoTransacao
        - descricao: String
        - data: LocalDateTime
        --
        + realizar(): void
        + cancelar(): void
    }

    enum TipoTransacao {
        RECEITA
        DESPESA
        ESTORNO
        TRANSFERENCIA
    }

    enum StatusTransacao {
        PAGA
        PENDENTE
        CANCELADA
    }
}

TelaCaixa --> CaixaController
CaixaController --> Caixa
CaixaController --> TransacaoRepository
Caixa --> Transacao : contÃ©m
Transacao --> TipoTransacao : usa
Transacao --> StatusTransacao : usa

@enduml
